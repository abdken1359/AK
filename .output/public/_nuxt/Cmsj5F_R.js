import{d as _,z as N,A as O,P as H,B as u,C as j,r as B,D as S,E as T,R as C,G as b,L,H as h,I as K,J as I,K as E,M as F,S as V,N as w,F as q,O as z,Q as D,u as G,c as J,b as p,a as M,o as Q,T as $}from"./BsxCChA_.js";import{_ as U}from"./BraQ2zbW.js";const W=_({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const o=e.renderKey,a=e.route,i={};for(const n in e.route)Object.defineProperty(i,n,{get:()=>o===e.renderKey?e.route[n]:a[n],enumerable:!0});return N(H,O(i)),()=>u(e.vnode,{ref:e.vnodeRef})}}),X=_({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:o,slots:a,expose:i}){const n=j(),r=B(),s=b(H,null);let c;i({pageRef:r});const l=b(L,null);let d;const m=n.deferHydration();if(n.isHydrating){const t=n.hooks.hookOnce("app:error",m);S().beforeEach(t)}e.pageKey&&T(()=>e.pageKey,(t,v)=>{t!==v&&n.callHook("page:loading:start")});let g=!1;return()=>u(C,{name:e.name,route:e.route,...o},{default:t=>{const v=Z(s,t.route,t.Component),k=s&&s.matched.length===t.route.matched.length;if(!t.Component){if(d&&!k)return d;m();return}if(d&&l&&!l.isCurrent(t.route))return d;if(v&&s&&(!l||l!=null&&l.isCurrent(s)))return k?d:null;const f=h(t,e.pageKey);!n.isHydrating&&!P(s,t.route,t.Component)&&c===f&&(n.callHook("page:loading:end"),g=!0),c=f;const y=!!(e.transition??t.route.meta.pageTransition??K),A=y&&Y([e.transition,t.route.meta.pageTransition,K,{onAfterLeave:()=>{n.callHook("page:transition:finish",t.Component)}}].filter(Boolean)),R=e.keepalive??t.route.meta.keepalive??I;return d=E(y&&A,F(R,u(V,{suspensible:!0,onPending:()=>n.callHook("page:start",t.Component),onResolve:()=>{w(()=>n.callHook("page:finish",t.Component).then(()=>{if(!g)return n.callHook("page:loading:end");g=!1}).finally(m))}},{default:()=>{const x=u(W,{key:f||void 0,vnode:a.default?u(q,void 0,a.default(t)):t.Component,route:t.route,renderKey:f||void 0,trackRootNodes:y,vnodeRef:r});return R&&(x.type.name=t.Component.type.name||t.Component.type.__name||"RouteProvider"),x}}))).default(),d}})}});function Y(e){const o=e.map(a=>({...a,onAfterLeave:a.onAfterLeave?z(a.onAfterLeave):void 0}));return D(...o)}function Z(e,o,a){if(!e)return!1;const i=o.matched.findIndex(n=>{var r;return((r=n.components)==null?void 0:r.default)===(a==null?void 0:a.type)});return!i||i===-1?!1:o.matched.slice(0,i).some((n,r)=>{var s,c,l;return((s=n.components)==null?void 0:s.default)!==((l=(c=e.matched[r])==null?void 0:c.components)==null?void 0:l.default)})||a&&h({route:o,Component:a})!==h({route:e,Component:a})}function P(e,o,a){return e?o.matched.findIndex(n=>{var r;return((r=n.components)==null?void 0:r.default)===(a==null?void 0:a.type)})<o.matched.length-1:!1}const ne=_({__name:"default",setup(e){return G({htmlAttrs:{lang:"en",class:"dark"},link:[{rel:"icon",href:"/images/icon.svg",type:"image/svg+xml"}]}),(o,a)=>{const i=$,n=X,r=U;return Q(),J("div",null,[p(i),p(n),M("footer",null,[p(r)])])}}});export{ne as default};
